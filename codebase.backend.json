{
  "project": "Juno",
  "version": "0.4.0",
  "backend": {
    "name": "Juno Backend (Rust Canisters)",
    "description": "Serverless backend infrastructure for Internet Computer dApps",
    "language": "Rust",
    "target": "wasm32-unknown-unknown",
    "architecture": {
      "type": "Multi-Canister Architecture",
      "canisters": {
        "satellite": {
          "purpose": "Core data storage and management canister",
          "path": "src/libs/satellite",
          "crate": "junobuild-satellite",
          "features": [
            "Document storage (set_doc, get_doc, del_doc)",
            "Document queries (list_docs, count_docs)",
            "Collection management with rules",
            "Asset storage (upload, delete, list)",
            "Custom domains",
            "Authentication integration",
            "WebSocket real-time notifications",
            "Proposal system for asset deployment"
          ],
          "modules": {
            "db": "Document database operations",
            "storage": "Asset and file storage",
            "auth": "Authentication handlers",
            "controllers": "Access control",
            "rules": "Collection rules",
            "cdn": "CDN and proposal management",
            "http": "HTTP request handlers",
            "hooks": "Event hooks (on_doc_set, etc.)",
            "types": "Type definitions",
            "memory": "Memory management"
          },
          "exposed_functions": [
            "set_doc", "get_doc", "del_doc", "list_docs", "count_docs",
            "get_many_docs", "set_many_docs", "del_many_docs", "del_filtered_docs",
            "init_asset_upload", "upload_asset_chunk", "commit_asset_upload",
            "list_assets", "count_assets", "del_asset", "del_many_assets",
            "set_controllers", "del_controllers", "list_controllers",
            "set_rule", "get_rule", "list_rules", "del_rule",
            "init_proposal", "submit_proposal", "reject_proposal", "commit_proposal",
            "authenticate", "get_delegation",
            "http_request", "http_request_streaming_callback",
            "ws_open", "ws_message", "ws_close", "ws_get_messages",
            "get_config", "set_auth_config", "get_auth_config",
            "set_db_config", "get_db_config", "set_storage_config", "get_storage_config"
          ],
          "key_types": {
            "SetDoc": "Document creation/update",
            "Doc": "Stored document with metadata",
            "ListParams": "Query parameters",
            "ListResults": "Paginated results",
            "InitUploadResult": "Asset upload initialization",
            "UploadChunkResult": "Chunk upload result",
            "CommitBatch": "Finalize asset upload"
          }
        },
        "mission_control": {
          "purpose": "Administrative control center",
          "features": [
            "Satellite management",
            "User administration",
            "Monitoring and analytics",
            "Global configuration"
          ]
        },
        "observatory": {
          "purpose": "Monitoring and analytics canister",
          "features": [
            "Metrics collection",
            "Performance monitoring",
            "Usage analytics"
          ]
        },
        "orbiter": {
          "purpose": "Extended satellite functionality",
          "features": [
            "Additional storage options",
            "Enhanced querying"
          ]
        },
        "console": {
          "purpose": "Developer console interface",
          "features": [
            "Developer tools",
            "Management interface"
          ]
        },
        "sputnik": {
          "purpose": "Testing and fixtures",
          "features": ["Test fixtures", "Development tools"]
        }
      },
      "workspace_libs": {
        "junobuild-satellite": "Core satellite implementation",
        "junobuild-storage": "Asset storage management",
        "junobuild-auth": "Authentication and authorization",
        "junobuild-cdn": "Content delivery network integration",
        "junobuild-collections": "Document collection management",
        "junobuild-shared": "Shared utilities and types",
        "junobuild-macros": "Procedural macros for Juno"
      },
      "external_dependencies": {
        "ic-cdk": "Internet Computer Canister Development Kit",
        "ic-cdk-macros": "ICDK macros for Rust",
        "candid": "Interface description language",
        "serde": "Serialization framework",
        "ic-websocket-cdk": "WebSocket functionality (v0.4.2)",
        "ic-cdk-timers": "Async timers for IC canisters"
      },
      "websocket_implementation": {
        "path": "src/libs/satellite/src/ws",
        "description": "Real-time notification system",
        "components": {
          "ws/mod.rs": "WebSocket module with subscription management",
          "handlers": [
            "on_open": "Client connection handler",
            "on_message": "Message receive handler",
            "on_close": "Client disconnect handler"
          ],
          "functions": [
            "init": "Initialize WebSocket CDK with gateway",
            "broadcast": "Send notifications to subscribed clients",
            "subscribe": "Subscribe to collection updates",
            "unsubscribe": "Unsubscribe from collection",
            "connected_client_count": "Get active connections",
            "connected_clients_info": "Get connection details"
          ],
          "notification_types": {
            "doc_set": "Document created/updated",
            "doc_deleted": "Document deleted",
            "asset_uploaded": "Asset uploaded",
            "asset_deleted": "Asset deleted"
          },
          "gateway_integration": {
            "gateway_principal": "k4prv-2plrg-jtznn-vvrjq-ybdxf-ybb43-pgjkk-ib7fr-n2gg6-kbo6c-gqe",
            "polling_interval": "400ms",
            "ack_interval": "300000ms (5 minutes)",
            "keep_alive_timeout": "60000ms (1 minute)"
          }
        }
      },
      "build_system": {
        "cargo_workspace": true,
        "target_triple": "wasm32-unknown-unknown",
        "custom_flags": "--cfg getrandom_backend=\\\"custom\\\"",
        "build_command": "cargo build --target wasm32-unknown-unknown --release",
        "output_format": "WASM binary",
        "optimization_level": "release"
      },
      "deployment": {
        "framework": "dfx",
        "networks": {
          "local": {
            "url": "http://127.0.0.1:4943",
            "replica": "local Internet Computer replica"
          },
          "ic": {
            "url": "https://ic0.app",
            "replica": "Internet Computer mainnet"
          }
        },
        "configuration_files": {
          "dfx.json": "Main deployment configuration",
          "Cargo.toml": "Workspace dependencies",
          "Cargo.lock": "Locked dependency versions"
        }
      },
      "memory_management": {
        "stable_memory": true,
        "heap_memory": "Dynamic",
        "upgrade_hooks": [
          "pre_upgrade": "Save state before upgrade",
          "post_upgrade": "Restore state after upgrade"
        ],
        "lifecycle_module": "src/libs/satellite/src/memory/lifecycle.rs"
      },
      "authentication": {
        "integration": "junobuild-auth",
        "supported_methods": [
          "Internet Identity",
          "Principal-based auth",
          "Delegation tokens"
        ],
        "config": {
          "set_auth_config": "Configure authentication",
          "get_auth_config": "Get current auth config"
        }
      },
      "storage": {
        "types": {
          "documents": "Structured data in collections",
          "assets": "Binary files (images, videos, etc.)",
          "certification": "Certified data for verification"
        },
        "limits": {
          "max_document_size": "4MiB (default)",
          "max_asset_size": "Configurable",
          "max_collection_size": "Unlimited (with cycles)"
        }
      },
      "api_endpoints": {
        "document_operations": [
          "set_doc(collection, key, doc)",
          "get_doc(collection, key)",
          "del_doc(collection, key, doc)",
          "list_docs(collection, params)",
          "count_docs(collection, params)"
        ],
        "asset_operations": [
          "init_asset_upload(init)",
          "upload_asset_chunk(chunk)",
          "commit_asset_upload(batch)",
          "list_assets(collection, params)",
          "del_asset(collection, full_path)"
        ],
        "management": [
          "set_controllers(args)",
          "set_rule(collection_type, collection, rule)",
          "set_storage_config(config)",
          "set_db_config(config)"
        ]
      }
    },
    "testing": {
      "unit_tests": "Rust built-in tests",
      "integration_tests": "packages/ic-websocket-cdk/src/tests",
      "e2e_tests": "Playwright tests in frontend",
      "test_fixtures": "src/libs/satellite/src/satellite/src/tests"
    },
    "documentation": {
      "readme": "README.md",
      "contributing": "CONTRIBUTING.md",
      "hacking": "HACKING.md",
      "changelog": "CHANGELOG.md"
    }
  },
  "metadata": {
    "generated_date": "2026-01-20",
    "generator": "Claude Code",
    "version": "1.0.0"
  }
}
